---
import Layout from '../layouts/Layout.astro';
import EarthCanvas from '../components/EarthCanvas.tsx';
import LeetCodeCard from '../components/LeetCodeCard.tsx';
import ProjectGrid from '../components/ProjectGrid.tsx';
import LinkedInCard from '../components/LinkedInCard.tsx';
import CertificationGrid from '../components/CertificationGrid.tsx';
import Navbar from '../components/Navbar.astro';
import { FileText, Download, Eye, Activity, Mail, Terminal, ChevronDown, ExternalLink } from 'lucide-react';

export const prerender = false;
---

<Layout title="Abhiram | Portfolio">
  <div class="fixed inset-0 z-0 bg-[#030303]">
    <div class="absolute inset-0 z-10 bg-[url('/noise.svg')] opacity-[0.03] mix-blend-overlay pointer-events-none"></div>
    <EarthCanvas client:only="react" />
    <div class="absolute inset-0 z-20 bg-gradient-to-b from-transparent via-[#030303]/40 to-[#030303]"></div>
  </div>

  <Navbar />

  <main class="relative z-10 w-full">
    
    <section id="home" class="h-screen w-full flex items-center justify-end px-[5vw] py-20">
      <div class="text-right animate-fade-in w-full max-w-7xl">
        <h1 class="text-[clamp(4.5rem,15vw,12rem)] font-black tracking-tighter text-white leading-[0.8] uppercase italic">
          ABHI<br/>
          <span class="text-blue-500">ram</span>
        </h1>
        
        <div class="mt-8 border-t border-white/10 pt-8 inline-block">
          <p class="text-[clamp(1.5rem,4vw,2.5rem)] text-white font-bold tracking-tight uppercase">
            Purdue University
          </p>
          <p class="text-white/40 text-[clamp(0.8rem,1.5vw,1.2rem)] font-mono tracking-[0.2em] uppercase mt-2">
            M.S. Student in <span class="text-blue-400/80 italic">Computer Science</span>
          </p>
        </div>
      </div>
    </section>

    <section id="leetcode" class="min-h-screen w-full flex flex-col items-center justify-center px-[5vw] bg-black/10 py-32">
      <div class="max-w-6xl w-full">
        <h2 class="text-blue-500 font-mono tracking-[0.6em] text-center text-[10px] md:text-xs uppercase mb-16">
          Technical Prowess // LeetCode_Analytics
        </h2>
        <div class="backdrop-blur-xl rounded-[3rem] border border-white/5 bg-white/[0.01]">
           <LeetCodeCard client:load /> 
        </div>
      </div>
    </section>

    <section id="builds" class="min-h-screen w-full py-32 px-[5vw]">
      <div class="max-w-7xl mx-auto">
        <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-24 gap-12">
          <div class="max-w-xl text-left">
            <h3 class="font-mono text-blue-500 uppercase tracking-[0.6em] mb-6 text-[10px]">System_Architecture_Log</h3>
            <p class="text-white/30 text-xs md:text-sm font-mono leading-relaxed uppercase tracking-tighter">
              Synthesizing cloud-native architectures into fluid, data-driven interfaces.
            </p>
          </div>
          <h2 class="text-[clamp(3.5rem,10vw,7rem)] font-black italic uppercase tracking-tighter text-white leading-none">
            Key <span class="text-blue-500">Builds</span>
          </h2>
        </div>
        <ProjectGrid client:load />
      </div>
    </section>

    <section id="resume" class="min-h-screen w-full py-32 px-[5vw]">
      <div class="max-w-6xl mx-auto text-center">
        <div class="mb-24">
          <h3 class="font-mono text-blue-500 uppercase tracking-[0.5em] mb-6 text-xs flex items-center justify-center gap-2">
            <Activity size={14} class="animate-pulse" /> Official Documentation
          </h3>
          <h2 class="text-[clamp(3.5rem,10vw,7rem)] font-black italic uppercase tracking-tighter text-white leading-none">
            Mission <span class="text-blue-500 text-glow">Briefing</span>
          </h2>
        </div>

        <div class="relative group max-w-3xl mx-auto rounded-[3.5rem] border border-white/10 bg-white/[0.03] p-10 md:p-16 backdrop-blur-[50px] transition-all hover:border-blue-500/30 overflow-hidden shadow-2xl">
          <div class="flex flex-col items-center gap-12 relative z-10">
            <div class="h-24 w-24 rounded-3xl bg-blue-500/10 flex items-center justify-center border border-blue-500/20 group-hover:scale-110 transition-all duration-500">
              <FileText size={48} className="text-blue-500" />
            </div>
            <div class="space-y-4">
              <h4 class="text-2xl md:text-4xl font-bold text-white uppercase tracking-tight italic">Abhiram_Resume.pdf</h4>
              <p class="text-white/40 font-mono text-[clamp(0.7rem,1.5vw,0.9rem)] uppercase tracking-[0.2em]">
                M.S. Computer Science • Purdue • Jan 2026
              </p>
            </div>
            <div class="flex flex-col sm:flex-row justify-center gap-6 w-full max-w-md">
              <a href="/resume.pdf" target="_blank" class="flex-1 flex items-center justify-center gap-3 px-8 py-5 bg-blue-600 hover:bg-blue-500 text-white font-bold uppercase tracking-widest rounded-2xl transition-all shadow-[0_0_20px_rgba(37,99,235,0.3)]">
                <Eye size={18} /> View
              </a>
              <a href="/resume.pdf" download class="flex-1 flex items-center justify-center gap-3 px-8 py-5 border border-white/10 hover:border-white/40 text-white font-bold uppercase tracking-widest rounded-2xl transition-all">
                <Download size={18} /> Download
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="network" class="min-h-screen w-full py-32 px-[5vw] flex items-center justify-center">
      <LinkedInCard client:load />
    </section>

    <section id="certifications" class="min-h-screen w-full py-32 px-[5vw] flex items-center justify-center">
      <div class="max-w-7xl w-full">
        <CertificationGrid client:load />
      </div>
    </section>

    <section id="contact" class="min-h-[80vh] w-full py-32 px-[5vw] flex items-center justify-center">
      <div class="max-w-4xl w-full">
        <div class="flex items-center gap-4 mb-12 justify-center">
          <Terminal size={18} class="text-blue-500 animate-pulse" />
          <span class="text-[10px] md:text-xs font-mono font-black text-blue-500 uppercase tracking-[0.5em]">
            Direct_Uplink_Protocol
          </span>
        </div>
        
        <div class="relative group p-12 md:p-20 rounded-[3.5rem] border border-white/10 bg-white/[0.02] backdrop-blur-[60px] shadow-2xl text-center transition-all hover:border-blue-500/30">
          <div class="space-y-8 relative z-10">
            <h2 class="text-5xl md:text-7xl font-black italic text-white uppercase tracking-tighter leading-none">
              Contact <span class="text-blue-500">Node</span>
            </h2>
            <p class="max-w-md mx-auto text-white/30 font-mono text-xs md:text-sm leading-relaxed uppercase tracking-tight">
              Initiate a direct transmission via secure university channel for collaborations or inquiries.
            </p>

            <div class="relative inline-block mt-8">
              <a 
                href="mailto:mulpm01@purdue.edu" 
                class="flex flex-col items-center gap-4 px-10 py-8 rounded-[2rem] bg-white/5 border border-white/5 hover:border-blue-500/40 hover:bg-blue-500/5 transition-all duration-500 group/email"
              >
                <Mail size={40} class="text-blue-500 mb-2" />
                <span class="text-xl md:text-3xl font-mono font-bold text-white tracking-widest break-all">
                  mulpm01@purdue.edu
                </span>
                <div class="flex items-center gap-2 text-[10px] font-mono text-blue-400/60 uppercase tracking-[0.3em] font-black">
                  <ExternalLink size={12} /> Open Mail Client
                </div>
              </a>
            </div>

            <div class="pt-12 border-t border-white/5">
              <p class="text-[9px] font-mono text-white/20 uppercase tracking-[0.4em]">
                Status: Connection_Stable // Purdue_University_Node
              </p>
            </div>
          </div>
          <div class="absolute -z-10 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-64 w-64 bg-blue-500/10 blur-[100px] rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-1000"></div>
        </div>
      </div>
    </section>
  </main>
</Layout>

<style is:global>
  /* 3. PERFORMANCE & GLASS REFINEMENTS */
  :global(html) {
    scroll-behavior: smooth;
    overflow-y: auto !important;
    height: auto !important;
  }
  :global(body) {
    background-color: #030303;
    margin: 0;
    overflow-x: hidden;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
  }

  .text-glow {
    text-shadow: 0 0 30px rgba(59, 130, 246, 0.4);
  }

  .animate-fade-in {
    animation: fadeIn 1.5s ease-out forwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @media (max-width: 430px) {
    main { gap: 4rem !important; }
    h1 { font-size: 3.5rem !important; }
    .rounded-[3.5rem] { border-radius: 2.5rem !important; }
  }

  ::-webkit-scrollbar { width: 4px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { 
    background: rgba(59, 130, 246, 0.3); 
    border-radius: 10px; 
  }
</style>